<html>
  <head>
    <title>Get Highest valuet</title>
  </head>
  <body>
    <h1>Get Highest Value in Nested Object</h1>
    <script>
      const myObj = {
        x: 5,
        y: { z: 12, w: { p: 8, q: 20 } },
      };

      const getMaxValue = (obj) => {
        let arr = [];
        for (key in obj) {
          if (typeof obj[key] === "object" && obj[key] !== null) {
            arr.push(getMaxValue(obj[key]));
          } else {
            arr.push(obj[key]);
          }
        }
        const newArr = arr.flat().sort((a, b) => a - b);
        return newArr[newArr.length - 1];
      };

      const result = getMaxValue(myObj);
      console.log(result); // 20

      const getMaxValueB = (obj) => {
        let max = -Infinity;
        for (let key in obj) {
          const value = obj[key];
          if (typeof value === "object" && value !== null) {
            max = Math.max(max, getMaxValue(value));
          } else {
            max = Math.max(max, value);
          }
        }
        return max;
      };

      const resultB = getMaxValueB(myObj);

      console.log(resultB); // 20

      const getMaxValueKey = (obj) => {
        let maxValue = -Infinity;
        let maxKey = null;

        const traverseObj = (item) => {
          for (let key in item) {
            if (typeof item[key] === "object" && item[key] !== null) {
              traverseObj(item[key]);
            } else {
              if (item[key] > maxValue) {
                maxValue = item[key];
                maxKey = key;
              }
            }
          }
        };

        traverseObj(obj);
        return { maxValue: maxValue, maxKey: maxKey };
      };

      const resultC = getMaxValueKey(myObj);

      console.log(resultC); // 20 , q
    </script>
  </body>
</html>
